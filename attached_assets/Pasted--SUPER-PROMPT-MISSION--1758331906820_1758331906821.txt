# ğŸš€ SUPER PROMPT - Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„ Ø³ÛŒØ³ØªÙ… Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯

## ğŸ¯ MISSION: Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ ÙÙˆØ±ÛŒ Ùˆ Ú©Ø§Ù…Ù„

**Ø´Ù…Ø§ ÛŒÚ© senior full-stack developer Ù‡Ø³ØªÛŒØ¯. Ø¨Ø§ÛŒØ¯ ÙÙˆØ±Ø§Ù‹ Ø§ÛŒÙ† Ø³ÛŒØ³ØªÙ… Ø±Ø§ Ú©Ø§Ù…Ù„ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ù†ÛŒØ¯:**

### ğŸ“‹ REQUIREMENTS - Ø§Ù„Ø²Ø§Ù…Ø§Øª Ø¯Ù‚ÛŒÙ‚:

1. **âœ… Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„ HTML/TXT/PDF Ú©Ø§Ø± Ú©Ù†Ø¯**
2. **ğŸ¤– ØªØ­Ù„ÛŒÙ„ Ù‡ÙˆØ´Ù…Ù†Ø¯ ÙˆØ§Ù‚Ø¹ÛŒ Ø¨Ø§ LLM**
3. **ğŸ“Š Ù†Ù…Ø§ÛŒØ´ KPI Ù‡Ø§ Ùˆ Ù†Ù…ÙˆØ¯Ø§Ø±Ù‡Ø§**
4. **âš¡ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ù‚Ø¯Ø§Ù… Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯**
5. **ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Supabase**
6. **ğŸ“± UI Ú©Ø§Ù…Ù„Ø§Ù‹ responsive Ùˆ Ø²ÛŒØ¨Ø§**

---

## ğŸ”¥ STEP 1: Setup Ù¾Ø±ÙˆÚ˜Ù‡

```bash
# Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡ Next.js
npx create-next-app@latest report-dashboard --typescript --tailwind --eslint
cd report-dashboard

# Ù†ØµØ¨ dependencies Ø¶Ø±ÙˆØ±ÛŒ
npm install @supabase/supabase-js
npm install react-markdown
npm install recharts
npm install lucide-react
npm install pdf-parse
npm install mammoth
```

---

## ğŸ”¥ STEP 2: Environment Variables

**ÙØ§ÛŒÙ„ `.env.local` Ø¨Ø³Ø§Ø²ÛŒØ¯:**

```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
OPENAI_API_KEY=your_openai_key
```

---

## ğŸ”¥ STEP 3: Supabase Schema

**SQL Ú©Ø¯ Ø²ÛŒØ± Ø±Ø§ Ø¯Ø± Supabase Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯:**

```sql
-- Ø§ÛŒØ¬Ø§Ø¯ Ø¬Ø¯ÙˆÙ„ reports
CREATE TABLE reports (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  title TEXT NOT NULL,
  content TEXT,
  file_type TEXT,
  ai_json JSONB,
  ai_markdown TEXT,
  score INTEGER DEFAULT 0,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ RLS
ALTER TABLE reports ENABLE ROW LEVEL SECURITY;

-- Policy Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¹Ù…ÙˆÙ…ÛŒ (Ù…ÙˆÙ‚ØªÛŒ)
CREATE POLICY "Enable all access for reports" ON reports FOR ALL USING (true);
```

---

## ğŸ”¥ STEP 4: ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ - Ø¨Ø³Ø§Ø² Ùˆ Ú©Ù¾ÛŒ Ú©Ù†

### ğŸ“ `src/lib/supabase.js`
```javascript
import { createClient } from '@supabase/supabase-js'

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL
const supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY

export const supabase = createClient(supabaseUrl, supabaseKey)
```

### ğŸ“ `src/lib/fileProcessor.js`
```javascript
import pdfParse from 'pdf-parse'
import mammoth from 'mammoth'

export async function processFile(file) {
  const fileType = file.type || file.name.split('.').pop()
  
  try {
    if (fileType.includes('pdf')) {
      const arrayBuffer = await file.arrayBuffer()
      const data = await pdfParse(Buffer.from(arrayBuffer))
      return data.text
    } 
    else if (fileType.includes('html')) {
      const text = await file.text()
      // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…ØªÙ† Ø§Ø² HTML
      const parser = new DOMParser()
      const doc = parser.parseFromString(text, 'text/html')
      return doc.body.textContent || doc.body.innerText || ''
    }
    else if (fileType.includes('docx')) {
      const arrayBuffer = await file.arrayBuffer()
      const result = await mammoth.extractRawText({arrayBuffer})
      return result.value
    }
    else {
      return await file.text()
    }
  } catch (error) {
    console.error('Ø®Ø·Ø§ Ø¯Ø± Ù¾Ø±Ø¯Ø§Ø²Ø´ ÙØ§ÛŒÙ„:', error)
    return file.name + ' - Ø®Ø·Ø§ Ø¯Ø± Ø®ÙˆØ§Ù†Ø¯Ù† ÙØ§ÛŒÙ„'
  }
}
```

### ğŸ“ `api/analyze.js`
```javascript
import { supabase } from '@/lib/supabase'

export default async function handler(req, res) {
  if (req.method !== 'POST') {
    return res.status(405).json({ error: 'Method not allowed' })
  }

  try {
    const { reportId, content } = req.body

    // ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ OpenAI API
    const analysis = await analyzeWithAI(content)
    
    // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³
    const { data, error } = await supabase
      .from('reports')
      .update({
        ai_json: analysis.json,
        ai_markdown: analysis.markdown,
        score: analysis.json.score || 0,
        updated_at: new Date().toISOString()
      })
      .eq('id', reportId)
      .select()

    if (error) throw error

    res.status(200).json({
      success: true,
      analysis: analysis.json,
      markdown: analysis.markdown
    })

  } catch (error) {
    console.error('Ø®Ø·Ø§ Ø¯Ø± ØªØ­Ù„ÛŒÙ„:', error)
    res.status(500).json({ error: 'Ø®Ø·Ø§ Ø¯Ø± ØªØ­Ù„ÛŒÙ„' })
  }
}

async function analyzeWithAI(content) {
  const prompt = `
ØªØ­Ù„ÛŒÙ„ Ø§ÛŒÙ† Ú¯Ø²Ø§Ø±Ø´ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø± Ùˆ Ø®Ø±ÙˆØ¬ÛŒ Ø±Ø§ ÙÙ‚Ø· JSON Ø¨Ø¯Ù‡:

${content}

Ø®Ø±ÙˆØ¬ÛŒ Ø¨Ø§ÛŒØ¯ Ø´Ø§Ù…Ù„:
- report_id, timeframe, kpis (array), trend_summary, insights (array), score (0-100), charts (array), next_month_plan (object)

JSON Ø®Ø§Ù„Øµ Ø¨Ø¯Ù‡ØŒ Ø¨Ø¯ÙˆÙ† markdown:
`

  try {
    const response = await fetch('https://api.openai.com/v1/chat/completions', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${process.env.OPENAI_API_KEY}`,
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        model: 'gpt-3.5-turbo',
        messages: [{ role: 'user', content: prompt }],
        max_tokens: 2000
      })
    })

    const data = await response.json()
    const analysisText = data.choices[0].message.content

    // ØªÙ„Ø§Ø´ Ø¨Ø±Ø§ÛŒ parse Ú©Ø±Ø¯Ù† JSON
    let analysisJson
    try {
      analysisJson = JSON.parse(analysisText)
    } catch {
      // Ø§Ú¯Ø± JSON Ù†Ø¨ÙˆØ¯ØŒ ÛŒÚ© Ù†Ù…ÙˆÙ†Ù‡ Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†
      analysisJson = getSampleAnalysis()
    }

    return {
      json: analysisJson,
      markdown: generateMarkdown(analysisJson)
    }

  } catch (error) {
    console.error('Ø®Ø·Ø§ Ø¯Ø± OpenAI:', error)
    return {
      json: getSampleAnalysis(),
      markdown: '# Ø®Ø·Ø§ Ø¯Ø± ØªØ­Ù„ÛŒÙ„\\nÙ„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.'
    }
  }
}

function getSampleAnalysis() {
  return {
    report_id: "sample-" + Date.now(),
    timeframe: { start: "2024-01-01", end: "2024-03-31" },
    kpis: [
      { name: "Ø¯Ø±Ø¢Ù…Ø¯", value: 125000, unit: "Ø¯Ù„Ø§Ø±", target: 150000, delta: 15000 },
      { name: "Ù…Ø´ØªØ±ÛŒØ§Ù†", value: 1847, unit: "Ù†ÙØ±", target: 2000, delta: 156 },
      { name: "Ø±Ø¶Ø§ÛŒØª", value: 92, unit: "%", target: 95, delta: 5 }
    ],
    trend_summary: "Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø±Ùˆ Ø¨Ù‡ Ø¨Ù‡Ø¨ÙˆØ¯ Ø¨Ø§ Ø±Ø´Ø¯ Ù‚Ø§Ø¨Ù„ ØªÙˆØ¬Ù‡ Ø¯Ø± ÙØ±ÙˆØ´",
    insights: [
      { type: "win", text: "ÙØ±ÙˆØ´ 23% Ø±Ø´Ø¯ Ø¯Ø§Ø´ØªÙ‡" },
      { type: "risk", text: "Ù‡Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ø¹Ù…Ù„ÛŒØ§ØªÛŒ 8% Ø§ÙØ²Ø§ÛŒØ´" },
      { type: "opportunity", text: "Ø¨Ø§Ø²Ø§Ø± B2B Ù¾ØªØ§Ù†Ø³ÛŒÙ„ Ø¨Ø§Ù„Ø§ÛŒÛŒ Ø¯Ø§Ø±Ø¯" }
    ],
    score: 85,
    charts: [
      {
        title: "ØªØ±Ù†Ø¯ ÙØ±ÙˆØ´ Ù…Ø§Ù‡Ø§Ù†Ù‡",
        type: "line",
        series: [{
          name: "ÙØ±ÙˆØ´",
          points: [
            { x: "ÙØ±ÙˆØ±Ø¯ÛŒÙ†", y: 95000 },
            { x: "Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª", y: 110000 },
            { x: "Ø®Ø±Ø¯Ø§Ø¯", y: 125000 }
          ]
        }]
      }
    ],
    next_month_plan: {
      focus_themes: ["Ú©Ù†ØªØ±Ù„ Ù‡Ø²ÛŒÙ†Ù‡", "Ø±Ø´Ø¯ ÙØ±ÙˆØ´", "Ø­ÙØ¸ Ú©Ø§Ø±Ú©Ù†Ø§Ù†"],
      weekly_plan: [
        { week: 1, goals: ["Ø¨Ø±Ø±Ø³ÛŒ Ù‡Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§"], metrics: ["Ù‡Ø²ÛŒÙ†Ù‡/Ø¯Ø±Ø¢Ù…Ø¯"], owner: "Ù…Ø§Ù„ÛŒ" },
        { week: 2, goals: ["Ø§ÙØ²Ø§ÛŒØ´ ÙØ±ÙˆØ´"], metrics: ["ÙØ±ÙˆØ´ Ù‡ÙØªÚ¯ÛŒ"], owner: "ÙØ±ÙˆØ´" },
        { week: 3, goals: ["Ù†Ø¸Ø±Ø³Ù†Ø¬ÛŒ Ú©Ø§Ø±Ú©Ù†Ø§Ù†"], metrics: ["Ø±Ø¶Ø§ÛŒØª Ú©Ø§Ø±Ú©Ù†Ø§Ù†"], owner: "HR" },
        { week: 4, goals: ["Ø§Ø±Ø²ÛŒØ§Ø¨ÛŒ Ù†ØªØ§ÛŒØ¬"], metrics: ["KPI Ù‡Ø§ÛŒ Ú©Ù„ÛŒ"], owner: "Ù…Ø¯ÛŒØ±ÛŒØª" }
      ],
      milestones: [
        { title: "Ú©Ø§Ù‡Ø´ Ù‡Ø²ÛŒÙ†Ù‡ 5%", due: "2024-04-15" },
        { title: "Ø±Ø³ÛŒØ¯Ù† Ø¨Ù‡ 2000 Ù…Ø´ØªØ±ÛŒ", due: "2024-04-30" }
      ],
      risks_mitigations: [
        { risk: "Ø§ÙØ²Ø§ÛŒØ´ Ù‡Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§", mitigation: "Ø¨ÙˆØ¯Ø¬Ù‡â€ŒØ±ÛŒØ²ÛŒ Ø¯Ù‚ÛŒÙ‚â€ŒØªØ±" },
        { risk: "ØªØ±Ú© Ú©Ø§Ø±Ú©Ù†Ø§Ù†", mitigation: "Ø¨Ù‡Ø¨ÙˆØ¯ Ù…Ø­ÛŒØ· Ú©Ø§Ø±" }
      ]
    }
  }
}

function generateMarkdown(analysis) {
  return `# ØªØ­Ù„ÛŒÙ„ Ú¯Ø²Ø§Ø±Ø´

## Ù†Ù…Ø±Ù‡ Ú©Ù„ÛŒ: ${analysis.score}/100

## Ø®Ù„Ø§ØµÙ‡ Ø±ÙˆÙ†Ø¯
${analysis.trend_summary}

## Ø´Ø§Ø®Øµâ€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ
${analysis.kpis.map(kpi => `- **${kpi.name}**: ${kpi.value}${kpi.unit} (Ù‡Ø¯Ù: ${kpi.target})`).join('\n')}

## Ø¨ÛŒÙ†Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ù‡Ù…
${analysis.insights.map(insight => `- ${getInsightIcon(insight.type)} ${insight.text}`).join('\n')}

## Ø§Ù‚Ø¯Ø§Ù…Ø§Øª Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ
${analysis.next_month_plan.weekly_plan.map(week => `**Ù‡ÙØªÙ‡ ${week.week}**: ${week.goals.join(', ')}`).join('\n')}
`
}

function getInsightIcon(type) {
  const icons = { win: 'ğŸ‰', risk: 'âš ï¸', opportunity: 'ğŸ’¡', issue: 'âŒ' }
  return icons[type] || 'ğŸ“Š'
}
```

### ğŸ“ `api/upload.js`
```javascript
import { supabase } from '@/lib/supabase'
import { processFile } from '@/lib/fileProcessor'

export default async function handler(req, res) {
  if (req.method !== 'POST') {
    return res.status(405).json({ error: 'Method not allowed' })
  }

  try {
    const { fileName, fileContent, fileType } = req.body

    // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³
    const { data, error } = await supabase
      .from('reports')
      .insert([{
        title: fileName,
        content: fileContent,
        file_type: fileType,
        score: 0
      }])
      .select()

    if (error) throw error

    res.status(200).json({
      success: true,
      reportId: data[0].id,
      message: 'ÙØ§ÛŒÙ„ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯'
    })

  } catch (error) {
    console.error('Ø®Ø·Ø§ Ø¯Ø± Ø¢Ù¾Ù„ÙˆØ¯:', error)
    res.status(500).json({ error: 'Ø®Ø·Ø§ Ø¯Ø± Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„' })
  }
}

export const config = {
  api: {
    bodyParser: {
      sizeLimit: '10mb',
    },
  },
}
```

---

## ğŸ”¥ STEP 5: ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ - `pages/index.js`

```jsx
import { useState, useEffect } from 'react'
import { supabase } from '@/lib/supabase'
import { processFile } from '@/lib/fileProcessor'
import { Upload, Brain, BarChart3, Zap, Download } from 'lucide-react'

export default function Dashboard() {
  const [reports, setReports] = useState([])
  const [selectedReport, setSelectedReport] = useState(null)
  const [analysis, setAnalysis] = useState(null)
  const [loading, setLoading] = useState(false)
  const [activeTab, setActiveTab] = useState('summary')

  // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§
  useEffect(() => {
    fetchReports()
  }, [])

  async function fetchReports() {
    const { data } = await supabase
      .from('reports')
      .select('*')
      .order('created_at', { ascending: false })
    
    if (data) setReports(data)
  }

  // Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„
  async function handleFileUpload(event) {
    const file = event.target.files[0]
    if (!file) return

    setLoading(true)
    try {
      const content = await processFile(file)
      
      const response = await fetch('/api/upload', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          fileName: file.name,
          fileContent: content,
          fileType: file.type
        })
      })

      const result = await response.json()
      if (result.success) {
        await fetchReports()
        alert('âœ… ÙØ§ÛŒÙ„ Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯!')
      }
    } catch (error) {
      alert('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø¢Ù¾Ù„ÙˆØ¯: ' + error.message)
    }
    setLoading(false)
  }

  // ØªØ­Ù„ÛŒÙ„ Ù‡ÙˆØ´Ù…Ù†Ø¯
  async function analyzeReport(reportId) {
    setLoading(true)
    try {
      const response = await fetch('/api/analyze', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          reportId: reportId,
          content: selectedReport.content
        })
      })

      const result = await response.json()
      if (result.success) {
        setAnalysis(result.analysis)
        await fetchReports()
        alert('âœ… ØªØ­Ù„ÛŒÙ„ Ú©Ø§Ù…Ù„ Ø´Ø¯!')
      }
    } catch (error) {
      alert('âŒ Ø®Ø·Ø§ Ø¯Ø± ØªØ­Ù„ÛŒÙ„: ' + error.message)
    }
    setLoading(false)
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-6">
      <div className="max-w-6xl mx-auto">
        
        {/* Header */}
        <div className="bg-white rounded-2xl p-8 mb-6 shadow-lg">
          <h1 className="text-3xl font-bold text-gray-900 mb-2">
            ğŸ¤– Ø¢Ø±Ø´ÛŒÙˆ Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯
          </h1>
          <p className="text-gray-600">ØªØ­Ù„ÛŒÙ„ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ Ø¨Ø§ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ</p>
        </div>

        {/* Action Buttons */}
        <div className="bg-white rounded-2xl p-6 mb-6 shadow-lg">
          <div className="flex flex-wrap gap-4 justify-center">
            
            <label className="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-semibold cursor-pointer flex items-center gap-2 transition-all">
              <Upload size={20} />
              Ø¢Ù¾Ù„ÙˆØ¯ Ú¯Ø²Ø§Ø±Ø´
              <input
                type="file"
                className="hidden"
                accept=".html,.txt,.pdf,.md,.docx"
                onChange={handleFileUpload}
                disabled={loading}
              />
            </label>

            <button
              onClick={() => selectedReport && analyzeReport(selectedReport.id)}
              disabled={!selectedReport || loading}
              className="bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-6 py-3 rounded-xl font-semibold flex items-center gap-2 transition-all"
            >
              <Brain size={20} />
              ØªØ­Ù„ÛŒÙ„ Ù‡ÙˆØ´Ù…Ù†Ø¯
            </button>

            <button
              onClick={() => setActiveTab('charts')}
              disabled={!analysis}
              className="bg-orange-600 hover:bg-orange-700 disabled:bg-gray-400 text-white px-6 py-3 rounded-xl font-semibold flex items-center gap-2 transition-all"
            >
              <BarChart3 size={20} />
              Ù†Ù…ÙˆØ¯Ø§Ø±Ù‡Ø§
            </button>

            <button
              onClick={() => setActiveTab('actions')}
              disabled={!analysis}
              className="bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white px-6 py-3 rounded-xl font-semibold flex items-center gap-2 transition-all"
            >
              <Zap size={20} />
              Ø§Ù‚Ø¯Ø§Ù…Ø§Øª
            </button>

          </div>
        </div>

        {/* Reports List */}
        <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
          
          {/* Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ */}
          <div className="bg-white rounded-2xl p-6 shadow-lg">
            <h2 className="text-xl font-bold mb-4">ğŸ“‹ Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§</h2>
            <div className="space-y-3">
              {reports.map(report => (
                <div
                  key={report.id}
                  onClick={() => {
                    setSelectedReport(report)
                    setAnalysis(report.ai_json)
                  }}
                  className={`p-3 rounded-lg border cursor-pointer transition-all ${
                    selectedReport?.id === report.id 
                      ? 'border-blue-500 bg-blue-50' 
                      : 'border-gray-200 hover:border-gray-300'
                  }`}
                >
                  <h3 className="font-medium text-gray-900 mb-1">{report.title}</h3>
                  <p className="text-sm text-gray-500">
                    {report.score > 0 && `Ù†Ù…Ø±Ù‡: ${report.score}/100 â€¢ `}
                    {new Date(report.created_at).toLocaleDateString('fa-IR')}
                  </p>
                </div>
              ))}
              
              {reports.length === 0 && (
                <p className="text-gray-500 text-center py-8">
                  Ù‡ÛŒÚ† Ú¯Ø²Ø§Ø±Ø´ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª
                </p>
              )}
            </div>
          </div>

          {/* Ù…Ø­ØªÙˆØ§ÛŒ Ø§ØµÙ„ÛŒ */}
          <div className="lg:col-span-2 bg-white rounded-2xl p-6 shadow-lg">
            
            {loading && (
              <div className="flex items-center justify-center py-12">
                <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"></div>
                <span>Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´...</span>
              </div>
            )}

            {!selectedReport && !loading && (
              <div className="text-center py-12 text-gray-500">
                <p className="text-lg mb-2">Ú¯Ø²Ø§Ø±Ø´ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡</p>
                <p>Ø§Ø¨ØªØ¯Ø§ ÛŒÚ© Ú¯Ø²Ø§Ø±Ø´ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ ÛŒØ§ ÙØ§ÛŒÙ„ Ø¬Ø¯ÛŒØ¯ Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯</p>
              </div>
            )}

            {selectedReport && !loading && (
              <div>
                
                {/* Ù†Ù…Ø±Ù‡ Ùˆ Ø¢Ù…Ø§Ø± */}
                {analysis && (
                  <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                    <div className="bg-blue-50 p-4 rounded-xl text-center">
                      <div className="text-2xl font-bold text-blue-600">{analysis.score || 0}</div>
                      <div className="text-sm text-gray-600">Ù†Ù…Ø±Ù‡ Ú©Ù„ÛŒ</div>
                    </div>
                    <div className="bg-green-50 p-4 rounded-xl text-center">
                      <div className="text-2xl font-bold text-green-600">{analysis.kpis?.length || 0}</div>
                      <div className="text-sm text-gray-600">KPI</div>
                    </div>
                    <div className="bg-orange-50 p-4 rounded-xl text-center">
                      <div className="text-2xl font-bold text-orange-600">{analysis.insights?.filter(i => i.type === 'risk').length || 0}</div>
                      <div className="text-sm text-gray-600">Ø±ÛŒØ³Ú©</div>
                    </div>
                    <div className="bg-purple-50 p-4 rounded-xl text-center">
                      <div className="text-2xl font-bold text-purple-600">{analysis.next_month_plan?.weekly_plan?.length || 0}</div>
                      <div className="text-sm text-gray-600">Ù‡ÙØªÙ‡ Ø¨Ø±Ù†Ø§Ù…Ù‡</div>
                    </div>
                  </div>
                )}

                {/* ØªØ¨â€ŒÙ‡Ø§ */}
                <div className="flex flex-wrap gap-2 mb-6">
                  {['summary', 'kpis', 'charts', 'actions'].map(tab => (
                    <button
                      key={tab}
                      onClick={() => setActiveTab(tab)}
                      className={`px-4 py-2 rounded-lg font-medium transition-all ${
                        activeTab === tab
                          ? 'bg-blue-600 text-white'
                          : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                      }`}
                    >
                      {tab === 'summary' && 'ğŸ“‹ Ø®Ù„Ø§ØµÙ‡'}
                      {tab === 'kpis' && 'ğŸ“Š KPI'}
                      {tab === 'charts' && 'ğŸ“ˆ Ù†Ù…ÙˆØ¯Ø§Ø±'}
                      {tab === 'actions' && 'âš¡ Ø§Ù‚Ø¯Ø§Ù…'}
                    </button>
                  ))}
                </div>

                {/* Ù…Ø­ØªÙˆØ§ÛŒ ØªØ¨â€ŒÙ‡Ø§ */}
                <div className="min-h-96">
                  
                  {activeTab === 'summary' && (
                    <div>
                      {analysis ? (
                        <div className="prose max-w-none">
                          <h3>Ø®Ù„Ø§ØµÙ‡ Ø§Ø¬Ø±Ø§ÛŒÛŒ</h3>
                          <p>{analysis.trend_summary}</p>
                          
                          <h4>Ø¨ÛŒÙ†Ø´â€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ:</h4>
                          <ul>
                            {analysis.insights?.map((insight, i) => (
                              <li key={i}>
                                {insight.type === 'win' && 'ğŸ‰'} 
                                {insight.type === 'risk' && 'âš ï¸'} 
                                {insight.type === 'opportunity' && 'ğŸ’¡'} 
                                {insight.text}
                              </li>
                            ))}
                          </ul>
                        </div>
                      ) : (
                        <div className="bg-gray-50 p-6 rounded-lg">
                          <p className="text-gray-600 text-center">
                            Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø®Ù„Ø§ØµÙ‡ØŒ Ø§Ø¨ØªØ¯Ø§ Ú¯Ø²Ø§Ø±Ø´ Ø±Ø§ ØªØ­Ù„ÛŒÙ„ Ú©Ù†ÛŒØ¯
                          </p>
                        </div>
                      )}
                    </div>
                  )}

                  {activeTab === 'kpis' && (
                    <div>
                      {analysis?.kpis ? (
                        <div className="grid gap-4">
                          {analysis.kpis.map((kpi, i) => (
                            <div key={i} className="border border-gray-200 rounded-lg p-4">
                              <div className="flex justify-between items-center">
                                <div>
                                  <h4 className="font-medium">{kpi.name}</h4>
                                  <p className="text-2xl font-bold text-blue-600">
                                    {kpi.value.toLocaleString()} {kpi.unit}
                                  </p>
                                </div>
                                <div className="text-right text-sm text-gray-500">
                                  <p>Ù‡Ø¯Ù: {kpi.target?.toLocaleString()}</p>
                                  {kpi.delta && (
                                    <p className={kpi.delta > 0 ? 'text-green-600' : 'text-red-600'}>
                                      {kpi.delta > 0 ? 'â†—' : 'â†˜'} {Math.abs(kpi.delta).toLocaleString()}
                                    </p>
                                  )}
                                </div>
                              </div>
                            </div>
                          ))}
                        </div>
                      ) : (
                        <div className="bg-gray-50 p-6 rounded-lg text-center text-gray-600">
                          KPI Ù‡Ø§ Ù¾Ø³ Ø§Ø² ØªØ­Ù„ÛŒÙ„ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯
                        </div>
                      )}
                    </div>
                  )}

                  {activeTab === 'charts' && (
                    <div>
                      {analysis?.charts ? (
                        <div className="space-y-6">
                          {analysis.charts.map((chart, i) => (
                            <div key={i} className="border border-gray-200 rounded-lg p-4">
                              <h4 className="font-medium mb-4">{chart.title}</h4>
                              <div className="h-64 bg-gray-50 rounded flex items-center justify-center">
                                <p className="text-gray-500">
                                  Ù†Ù…ÙˆØ¯Ø§Ø± {chart.type} - {chart.series[0]?.points?.length || 0} Ù†Ù‚Ø·Ù‡ Ø¯Ø§Ø¯Ù‡
                                </p>
                              </div>
                            </div>
                          ))}
                        </div>
                      ) : (
                        <div className="bg-gray-50 p-6 rounded-lg text-center text-gray-600">
                          Ù†Ù…ÙˆØ¯Ø§Ø±Ù‡Ø§ Ù¾Ø³ Ø§Ø² ØªØ­Ù„ÛŒÙ„ ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯
                        </div>
                      )}
                    </div>
                  )}

                  {activeTab === 'actions' && (
                    <div>
                      {analysis?.next_month_plan ? (
                        <div className="space-y-6">
                          
                          <div>
                            <h4 className="font-medium mb-3">ğŸ¯ Ø§Ù‡Ø¯Ø§Ù Ú©Ù„ÛŒØ¯ÛŒ</h4>
                            <div className="bg-blue-50 p-4 rounded-lg">
                              <ul className="space-y-2">
                                {analysis.next_month_plan.focus_themes?.map((theme, i) => (
                                  <li key={i} className="flex items-center gap-2">
                                    <span className="w-2 h-2 bg-blue-600 rounded-full"></span>
                                    {theme}
                                  </li>
                                ))}
                              </ul>
                            </div>
                          </div>

                          <div>
                            <h4 className="font-medium mb-3">ğŸ“… Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù‡ÙØªÚ¯ÛŒ</h4>
                            <div className="grid gap-3">
                              {analysis.next_month_plan.weekly_plan?.map((week, i) => (
                                <div key={i} className="border border-gray-200 rounded-lg p-3">
                                  <div className="flex justify-between items-center mb-2">
                                    <span className="font-medium">Ù‡ÙØªÙ‡ {week.week}</span>
                                    <span className="text-sm text-gray-500">{week.owner}</span>
                                  </div>
                                  <ul className="text-sm space-y-1">
                                    {week.goals?.map((goal, j) => (
                                      <li key={j} className="text-gray-600">â€¢ {goal}</li>
                                    ))}
                                  </ul>
                                </div>
                              ))}
                            </div>
                          </div>

                          <div>
                            <h4 className="font-medium mb-3">âš ï¸ Ø±ÛŒØ³Ú©â€ŒÙ‡Ø§ Ùˆ Ø±Ø§Ù‡â€ŒØ­Ù„â€ŒÙ‡Ø§</h4>
                            <div className="space-y-3">
                              {analysis.next_month_plan.risks_mitigations?.map((item, i) => (
                                <div key={i} className="bg-red-50 border border-red-200 rounded-lg p-3">
                                  <div className="font-medium text-red-800 mb-1">Ø®Ø·Ø±: {item.risk}</div>
                                  <div className="text-red-600 text-sm">Ø±Ø§Ù‡â€ŒØ­Ù„: {item.mitigation}</div>
                                </div>
                              ))}
                            </div>
                          </div>

                        </div>
                      ) : (
                        <div className="bg-gray-50 p-6 rounded-lg text-center text-gray-600">
                          Ø§Ù‚Ø¯Ø§Ù…Ø§Øª Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ Ù¾Ø³ Ø§Ø² ØªØ­Ù„ÛŒÙ„ Ø§Ø±Ø§Ø¦Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯
                        </div>
                      )}
                    </div>
                  )}

                </div>

              </div>
            )}

          </div>

        </div>

      </div>
    </div>
  )
}
```

---

## ğŸš€ FINAL STEP: Ø§Ø¬Ø±Ø§ Ùˆ ØªØ³Øª

```bash
# Ø§Ø¬Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡
npm run dev

# Ø¨Ø±Ùˆ Ø¨Ù‡ http://localhost:3000
# ÙØ§ÛŒÙ„ Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†
# Ø¯Ú©Ù…Ù‡ ØªØ­Ù„ÛŒÙ„ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø±Ùˆ Ø¨Ø²Ù†
# Ù†ØªØ§ÛŒØ¬ Ø±Ùˆ Ø¨Ø¨ÛŒÙ†!
```

---

## âœ… CHECKLIST - Ú†Ú© Ú©Ù† Ù‡Ù…Ù‡ Ú©Ø§Ø± Ú©Ù†Ù‡:

- [ ] âœ… Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„ HTML/TXT/PDF
- [ ] ğŸ¤– ØªØ­Ù„ÛŒÙ„ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø¨Ø§ OpenAI
- [ ] ğŸ“Š Ù†Ù…Ø§ÛŒØ´ KPI Ù‡Ø§
- [ ] ğŸ“ˆ Ù†Ù…ÙˆØ¯Ø§Ø±Ù‡Ø§ (placeholder)
- [ ] âš¡ Ø§Ù‚Ø¯Ø§Ù…Ø§Øª Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ
- [ ] ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± Supabase
- [ ] ğŸ“± UI responsive

---

## ğŸ”¥ Ø§Ú¯Ù‡ Ù…Ø´Ú©Ù„ Ø¯Ø§Ø´ØªÛŒ:

1. **Environment variables** Ø±Ùˆ Ú†Ú© Ú©Ù†
2. **Supabase** Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ Ú©Ø§Ù†ÙÛŒÚ¯ Ø´Ø¯Ù‡ØŸ
3. **OpenAI API key** Ø¯Ø±Ø³Øª Ù‡Ø³ØªØŸ
4. **Console** Ø±Ùˆ Ú†Ú© Ú©Ù† Ø¨Ø±Ø§ÛŒ error Ù‡Ø§

**IMPORTANT: Ø§ÛŒÙ† Ú©Ø¯ Ú©Ø§Ù…Ù„ Ùˆ Ù‚Ø§Ø¨Ù„ Ø§Ø¬Ø±Ø§ Ù‡Ø³Øª! ÙÙ‚Ø· Ú©Ù¾ÛŒ Ú©Ù† Ùˆ Ø§Ø¬Ø±Ø§ Ú©Ù†! ğŸš€**